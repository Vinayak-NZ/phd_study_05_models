ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
testit$layers[[1]]
effect_group_collapse_plot
pdp_effect_group_collapse_df <-
data.frame(group_collapse = c(0, 1),
prediction = c(pdp_effect_group_collapse$results[1, 2], pdp_effect_group_collapse$results[30, 2]))
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = group_collapse,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
testit$layers[[1]]
effect_group_collapse_plot
pdp_effect_group_collapse_df <-
data.frame(group_collapse = c(0, 1),
prediction = c(pdp_effect_group_collapse$results[1, 2], pdp_effect_group_collapse$results[30, 2]))
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = group_collapse,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = train_key_vars[train_key_vars$group_collapse == 1],
aes(x = ELEVATION), inherit.aes = F)
pdp_effect_group_collapse_df <-
data.frame(group_collapse = c(0, 1),
prediction = c(pdp_effect_group_collapse$results[1, 2], pdp_effect_group_collapse$results[30, 2]))
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = group_collapse,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = train_key_vars,
aes(x = group_collapse), inherit.aes = F)
effect_group_collapse_plot
?geom_rug
testit$layers
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = group_collapse,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = train_key_vars,
aes(x = group_collapse), outside = FALSE, sides = "b", length = 0.03, na.rm = FALSE, position = "jitter")
effect_group_collapse_plot
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = group_collapse,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = train_key_vars,
aes(x = group_collapse), outside = FALSE,
sides = "b",
length = 0.03,
na.rm = FALSE,
position = "jitter",
inherit.aes = FALSE)
effect_group_collapse_plot
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = group_collapse,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = train_key_vars,
aes(x = group_collapse), outside = FALSE,
sides = "b",
length = 0.03,
na.rm = FALSE,
inherit.aes = FALSE)
effect_group_collapse_plot
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = group_collapse,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = train_key_vars,
aes(x = group_collapse), outside = FALSE,
sides = "b",
na.rm = FALSE,
inherit.aes = FALSE)
effect_group_collapse_plot
pdp_effect_group_collapse_df <-
data.frame(communication_intervention = c("No participation", "Participation"),
prediction = c(pdp_effect_group_collapse$results[1, 2], pdp_effect_group_collapse$results[30, 2]))
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank())
effect_group_collapse_plot
pdp_effect_group_collapse_df <-
data.frame(communication_intervention = c("No participation", "Participation"),
prediction = c(pdp_effect_group_collapse$results[1, 2], pdp_effect_group_collapse$results[30, 2]),
frequency = c(nrow(train_key_vars[train_key_vars$group_collapse == 0, ]), nrow(train_key_vars[train_key_vars$group_collapse == 1, ])))
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank())
boom <- train_key_vars
boom$communication_intervention <- ifelse(boom$group_collapse == 0, "No participation", "Participation")
pdp_effect_group_collapse_df <-
data.frame(communication_intervention = c("No participation", "Participation"),
prediction = c(pdp_effect_group_collapse$results[1, 2], pdp_effect_group_collapse$results[30, 2]),
frequency = c(nrow(train_key_vars[train_key_vars$group_collapse == 0, ]), nrow(train_key_vars[train_key_vars$group_collapse == 1, ])))
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, x = aes(x = communication_intervention))
effect_group_collapse_plot
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, x = aes(x = communication_intervention), inherit.aes = F)
effect_group_collapse_plot
table(boom$group_collapse)
table(boom$communication_intervention)
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, aes(x = communication_intervention), inherit.aes = F)
effect_group_collapse_plot
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, aes(x = communication_intervention),
position = "jitter", inherit.aes = F)
effect_group_collapse_plot
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, aes(x = communication_intervention),
outside = TRUE, inherit.aes = F)
effect_group_collapse_plot
testit$layers
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, aes(x = communication_intervention),
sides = "b", inherit.aes = F)
effect_group_collapse_plot
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, aes(x = communication_intervention, y = 0),
position = "jitter"
sides = "b", inherit.aes = F)
effect_group_collapse_plot <-
ggplot(pdp_effect_group_collapse_df, aes(x = communication_intervention,
y = prediction)) +
geom_col(fill = "#46e7fd") +
labs(title = "Partial dependence plot",
subtitle = "Partial effect of intervention on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
axis.title.y = element_blank()) +
geom_rug(data = boom, aes(x = communication_intervention, y = 0),
position = "jitter",
sides = "b", inherit.aes = F)
effect_group_collapse_plot
pdp_effect_intervention_complications <-
FeatureEffect$new(pdp_plot_model,
feature = c("group_collapse", "complications_delivery"),
method = "pdp",
grid.size = 30)
pdp_effect_intervention_complications
pdp_effect_intervention_complications$results
pdp_effect_intervention_complications$plot()
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank(),
axis.text.x = element_blank(),
axix.text.y = element_blank())
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank(),
axis.text.x = element_blank())
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank())
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = seq(0, 1), labels = intervention_labels)
intervention_labels <- c("No participation", "Participation")
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = seq(0, 1), labels = intervention_labels)
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = seq(0.25, 0.75), labels = intervention_labels)
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = seq(0, 1), labels = intervention_labels)
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = seq(.25, 1), labels = intervention_labels)
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = seq(0.25, 0.75)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank(),
axis.text.y = element_blank())
pdp_effect_intervention_complications$plot() +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = c(0.25, 0.75)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank(),
axis.text.y = element_blank())
testit <- pdp_effect_intervention_complications$plot
testit <- pdp_effect_intervention_complications$plot()
testit$layers
testit$layers[[2]] <- NULL
testit
complication_labels <- c("No", "Yes")
processed_intervention_complications_plot <- pdp_effect_intervention_complications$plot()
processed_intervention_complications_plot$layers[[2]] <- NULL
processed_intervention_complications_plot +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = c(0.25, 0.75)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank(),
axis.text.y = element_blank())
processed_intervention_complications_plot +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = c(0.25, 0.75), labels = intervention_labels) +
scale_y_continuous(breaks = c(0.25, 0.75), labels = complication_labels) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank(),
axis.text.y = element_blank())
processed_intervention_complications_plot +
labs(title = "Partial dependence plot",
subtitle = "Interaction effects of intervention and delivery complications on cost of care predictions",
caption = "Data source: Obstetric Digital Health Intervention") +
xlab("Communication intervention") +
ylab("Complications during delivery") +
scale_x_continuous(breaks = c(0.25, 0.75), labels = intervention_labels) +
scale_y_continuous(breaks = c(0.25, 0.75), labels = complication_labels) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.title = element_blank())
renv::snapshot()
renv::status()
renv::snapshot()
## ---- run-key-scripts
source("R/00_load_functions.R")
source("R/00_load_package.R")
source("R/01_load_data.R")
source("R/02_create_variable.R")
source("R/03_create_variable_groupings.R")
source("R/04_data_edit.R")
## ---- xgboost
source("R/05_convert_numeric.R")
source("R/06_split_data.R")
?train
